---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Hero from '../../components/Hero.astro';
import Services from '../../components/Services.astro';
import About from '../../components/About.astro';
import History from '../../components/History.astro';
import Team from '../../components/Team.astro';
import Testimonials from '../../components/Testimonials.astro';
import Faq from '../../components/Faq.astro';
import Contact from '../../components/Contact.astro';
import Footer from '../../components/Footer.astro';
import ErrorBoundary from '../../components/ErrorBoundary.astro';

// This needs to be exported as a named export
export async function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
  ];
}

const { lang } = Astro.params;

// Redirect to the correct path without a trailing slash
if (lang === 'en' && Astro.url.pathname.endsWith('/')) {
  return Astro.redirect(Astro.url.pathname.slice(0, -1)); // Remove trailing slash
}
---

<Layout title={lang === 'en' ? "Home" : "Početna"}>
  <Navbar />
  <main>
    <Hero />
    <Services />
    <About />
    <History />
    <Team />
    <Testimonials />
    <Contact />
  </main>
  <Footer />
</Layout> 