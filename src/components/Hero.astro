---
import { translations } from '../i18n/translations';
import { Image } from 'astro:assets';
import { ArrowRight, ArrowDown } from 'lucide-astro';
import heroImage from '../assets/heroimg.webp';

const currentLang = Astro.url.pathname.split('/')[1] || 'bs';
const t = translations[currentLang].hero;
---

<section class="relative w-full h-screen overflow-hidden">
  <!-- Background Image with enhanced effects -->
  <div class="absolute inset-0 w-full h-full">
    <Image
      src={heroImage}
      alt="Hero background"
      class="w-full h-full object-cover object-[80%_center] scale-[1.1] blur-[2px] brightness-[0.85] transition-transform duration-[2s]"
      loading="eager"
      quality="max"
    />
    <div class="absolute inset-0 bg-gradient-to-r from-black/50 to-black/30 backdrop-blur-[2px]"></div>
  </div>

  <!-- Content -->
  <div class="relative h-full max-w-7xl mx-auto flex items-center px-5">
    <div class="max-w-2xl space-y-8">
      <!-- Label -->
      <span class="inline-block text-secondary text-sm font-medium tracking-wider uppercase bg-white/10 
                   backdrop-blur-sm rounded-full px-4 py-2">
        MedicoOral-AS
      </span>

      <!-- Title with animated gradient -->
      <h1 class="text-5xl md:text-6xl lg:text-7xl font-primary font-bold text-white 
                 [text-wrap:balance] leading-[1.1] drop-shadow-[0_2px_4px_rgba(0,0,0,0.4)]
                 bg-clip-text bg-gradient-to-r from-white to-white/80">
        {t.title}
      </h1>

      <!-- Subtitle -->
      <p class="text-xl md:text-2xl text-white/90 font-medium leading-relaxed 
                drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)]">
        {t.subtitle}
      </p>

      <!-- CTA Button -->
      <div class="relative group inline-block">
        <!-- Decorative elements -->
        <div class="absolute -inset-1 bg-white/20 rounded-full blur-sm transition-all duration-300 
                    opacity-0 group-hover:opacity-100"></div>
        
        <button 
          onclick="document.getElementById('services').scrollIntoView({behavior: 'smooth'})"
          class="relative inline-flex items-center gap-2 bg-secondary text-white px-8 py-4 rounded-full 
                 hover:bg-primary transition-all duration-300 shadow-lg hover:shadow-xl 
                 text-lg font-medium group-hover:gap-4"
        >
          <span>{t.cta}</span>
          <ArrowRight class="w-5 h-5 transition-transform duration-300" aria-hidden="true" />
        </button>
      </div>
    </div>
  </div>

  <!-- Updated Scroll Indicator with fade-in animation -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 opacity-0 animate-fade-in">
    <ArrowDown class="h-6 w-6 text-white opacity-80 animate-bounce" aria-hidden="true" />
  </div>
</section>

<style>
  @keyframes fade-in {
    0% {
      opacity: 0;
      transform: translate(-50%, 20px);
    }
    100% {
      opacity: 1;
      transform: translate(-50%, 0);
    }
  }

  .animate-fade-in {
    animation: fade-in 1s ease-out 1s forwards;
  }
</style>

