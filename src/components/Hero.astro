---
import { translations } from '../i18n/translations';
import { Image } from 'astro:assets';
import { ArrowRight, ArrowDown } from 'lucide-astro';
import heroImage from '../assets/heroimg.webp';

const currentLang = Astro.url.pathname.split('/')[1] || 'bs';
const t = translations[currentLang].hero;
---

<section class="relative w-full h-screen overflow-hidden">
  <!-- Background Image with refined effects -->
  <div class="absolute inset-0 w-full h-full">
    <Image
      src={heroImage}
      alt="Hero background"
      class="w-full h-full object-cover object-[80%_center] scale-[1.1] transition-all duration-[2s] animate-ken-burns"
    />
    <!-- White overlay gradients for softer contrast -->
    <div class="absolute inset-0 bg-gradient-to-r from-white/50 via-white/30 to-transparent"></div>
    <div class="absolute inset-0 bg-gradient-to-b from-white/40 via-white/20 to-transparent"></div>
    <div class="absolute inset-0 bg-gradient-to-t from-white/30 via-transparent to-transparent"></div>
  </div>

  <!-- Content with dark text for contrast against white overlay -->
  <div class="relative h-full max-w-7xl mx-auto flex items-center px-5">
    <div class="max-w-2xl space-y-8">
      <!-- Label -->
      <span class="inline-block text-secondary text-sm font-medium tracking-wider uppercase bg-white/80 backdrop-blur-sm rounded-full px-4 py-2">
        MedicoOral-AS
      </span>

      <!-- Title -->
      <h1 class="text-5xl md:text-6xl lg:text-7xl font-primary font-bold text-primary [text-wrap:balance] leading-[1.1]">
        {t.title}
      </h1>

      <!-- Subtitle -->
      <p class="text-xl md:text-2xl text-text-secondary font-medium leading-relaxed">
        {t.subtitle}
      </p>

      <!-- CTA Button -->
      <div class="relative group inline-block">
        <div class="absolute -inset-1 bg-secondary/10 rounded-full blur-md transition-all duration-300 opacity-0 group-hover:opacity-100"></div>
        
        <button 
          onclick="document.getElementById('services').scrollIntoView({behavior: 'smooth'})"
          class="relative inline-flex items-center gap-2 bg-secondary text-white px-8 py-4 rounded-full hover:bg-primary transition-all duration-300 shadow-lg hover:shadow-xl text-lg font-medium group-hover:gap-4"
        >
          <span>{t.cta}</span>
          <ArrowRight class="w-5 h-5 transition-transform duration-300" aria-hidden="true" />
        </button>
      </div>
    </div>
  </div>

  <!-- Scroll Indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 opacity-0 animate-fade-in">
    <button 
      onclick="document.getElementById('services').scrollIntoView({behavior: 'smooth'})"
      class="p-3 rounded-full bg-secondary text-white hover:bg-primary transition-all duration-300 shadow-lg hover:shadow-xl"
      aria-label="Scroll to services"
    >
      <ArrowDown class="h-5 w-5 animate-bounce" aria-hidden="true" />
    </button>
  </div>
</section>

<style>
  @keyframes fade-in {
    0% {
      opacity: 0;
      transform: translate(-50%, 20px);
    }
    100% {
      opacity: 1;
      transform: translate(-50%, 0);
    }
  }

  .animate-fade-in {
    animation: fade-in 1s ease-out 1s forwards;
  }

  @keyframes ken-burns {
    0% { transform: scale(1.1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1.1); }
  }

  .animate-ken-burns {
    animation: ken-burns 20s ease-in-out infinite;
  }
</style>

